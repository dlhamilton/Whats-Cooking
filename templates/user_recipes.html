{% extends "base.html" %}
{% load static %}
{% block content %}


<div class="container-fluid">
  <div class="row">
    <div class="col">
      <div class="basic">
        {% include "logged_in_user_card.html" %}    
        </div>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <hr>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <h1>My Recipes</h1>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <hr>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <p>Recipe count: {{ page_name.user_recipes.count }}</p>
      {% if average_recipe != 0 %}
      <p>Average rating for all recipes: {{ average_recipe }}</p>
      <p>Average rating stars: {{ average_recipe|floatformat:"0" }}</p>
      {% else %}
      <p>No Recipe Ratings</p>
      {% endif %}
      <p>
        Recipes: 
      </p>
      {% if page_name.user_recipes.count > 0 %}
      <ul>
        {% for recipe in page_name.user_recipes.all %}
        <a href="{% url 'recipe_detail' recipe.slug %}" class="post-link">
        <li>{{ recipe }}</li>
      </a>
        {% endfor %}
      </ul>
      {% else %}
      <p><strong>No Recipes</strong></p>
      {% endif %}
    </div>
  </div>

</div>

{%endblock%}